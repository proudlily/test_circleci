# Golang CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-go/ for more details
#version: 2
#jobs:
# build:
    #machine: true
  #  steps:
   #   - checkout
    #  - run: docker login -u $username -p $password
    #  - run: make build

  #one:
   # docker:
   #   - image: annqlm/test:0.0.2
   # working_directory: /tmp/project
   # steps:
    #  - run:
    #      name: copy kubeconfig to base image
     #     command: data=$(cat /root/.kube/oentext ); crypt aes -k=$kubekey -e=false -d=$data > /root/.kube/config
    #  - checkout
    #  - run:
    #      name: switch dev.hub
    #      command: kubectl config use-context dev.hub.k8s.ankr.network
    #  - run:
      #    name: echo
      #    command: |
      #      kubectl apply -f deployment/echo-service.yaml*/
version: 2.1
jobs:
  build:
    docker: 
      - image: ankrnetwork/circleci # the primary container, where your job's commands are run
    steps:
      - checkout # check out the code in the project directory
      - run: ls -al deployment/ # run the `echo` command
      - run: kubectl apply -f deployment/echo-service.yaml